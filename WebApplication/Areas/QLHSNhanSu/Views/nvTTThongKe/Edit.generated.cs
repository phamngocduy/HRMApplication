#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.18444
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace HRM.QLTTNhanSu.Views.nvTTThongKe
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 2 "..\..\Views\nvTTThongKe\Edit.cshtml"
    using HRM.Databases.Models;
    
    #line default
    #line hidden
    
    #line 3 "..\..\Views\nvTTThongKe\Edit.cshtml"
    using HRM.QLTTNhanSu.Models;
    
    #line default
    #line hidden
    
    #line 4 "..\..\Views\nvTTThongKe\Edit.cshtml"
    using HRM.QLTTNhanSu.Services;
    
    #line default
    #line hidden
    
    #line 1 "..\..\Views\nvTTThongKe\Edit.cshtml"
    using HRM.Webpages.Helpers;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/nvTTThongKe/Edit.cshtml")]
    public partial class Edit : System.Web.Mvc.WebViewPage<HRM.Databases.Models.nvTTThongKe>
    {
        public Edit()
        {
        }
        public override void Execute()
        {





WriteLiteral("\r\n");


            
            #line 7 "..\..\Views\nvTTThongKe\Edit.cshtml"
 using (Html.BeginForm("Edit", "nvTTThongKe"))
{
    if ("nvTTThongKe".Equals(TempData["Controller"]))
    {
        
            
            #line default
            #line hidden
            
            #line 11 "..\..\Views\nvTTThongKe\Edit.cshtml"
   Write(Html.StatusMessage(TempData["Message"]));

            
            #line default
            #line hidden
            
            #line 11 "..\..\Views\nvTTThongKe\Edit.cshtml"
                                                
        
            
            #line default
            #line hidden
            
            #line 12 "..\..\Views\nvTTThongKe\Edit.cshtml"
   Write(Html.ValidationSummary(TempData["ModelState"]));

            
            #line default
            #line hidden
            
            #line 12 "..\..\Views\nvTTThongKe\Edit.cshtml"
                                                       
    }
    var db = new HRMDBEntities();

            
            #line default
            #line hidden
WriteLiteral("<fieldset>\r\n    ");


            
            #line 16 "..\..\Views\nvTTThongKe\Edit.cshtml"
Write(Html.HiddenFor(model => model.NV_id));

            
            #line default
            #line hidden
WriteLiteral("\r\n<table id=\"nvTTThongKe\" style=\"width:100%\">\r\n<tr>\r\n<td align=left>\r\n    <label>" +
"Phân loại CB/GV/NV</label>\r\n    ");


            
            #line 21 "..\..\Views\nvTTThongKe\Edit.cshtml"
Write(Html.DropDownListFor(model => model.PhanLoaiCBGVNV, new SelectList(from dm in db.dmPhanLoaiCBGVNV select new {id = dm.id, ten = dm.maPhanLoaiCBGVNV+"|"+dm.tenPhanLoaiCBGVNV}, "id", "ten", Model.PhanLoaiCBGVNV), string.Empty));

            
            #line default
            #line hidden
WriteLiteral("\r\n    ");


            
            #line 22 "..\..\Views\nvTTThongKe\Edit.cshtml"
Write(Html.ValidationMessageFor(model => model.PhanLoaiCBGVNV));

            
            #line default
            #line hidden
WriteLiteral("\r\n</td>\r\n<td align=left>\r\n");


            
            #line 25 "..\..\Views\nvTTThongKe\Edit.cshtml"
  
    var months = QLTTNhanSuServices.tinhThamNienGiangDay(db, Model.NhanVien.id);
    var years = months / 12;
    months = months - years * 12;
    if (months > 0)
    {

            
            #line default
            #line hidden
WriteLiteral("        <br />\r\n");



WriteLiteral("        <label>Thâm niên giảng dạy:&nbsp;</label>\r\n");



WriteLiteral("        <b>");


            
            #line 33 "..\..\Views\nvTTThongKe\Edit.cshtml"
       Write(years > 0 ? String.Format("{0} năm {1} tháng", years, months)
                       : String.Format("{0} tháng", months));

            
            #line default
            #line hidden
WriteLiteral("</b>\r\n");


            
            #line 35 "..\..\Views\nvTTThongKe\Edit.cshtml"
    }    


            
            #line default
            #line hidden
WriteLiteral("</td>\r\n</tr>\r\n<tr>\r\n<td align=left>\r\n    <label>Khoa giảng dạy</label>\r\n    ");


            
            #line 42 "..\..\Views\nvTTThongKe\Edit.cshtml"
Write(Html.ListBox("KhoaGiangDay", db.dmKhoaGiangDay.ToList().Select(dm => new SelectListItem { Text = dm.maKhoaGiangDay + "|" + dm.tenKhoaGiangDay, Value = dm.id.ToString(), Selected = Model.NhanVien.nvKhoaGiangDays.Any(nv => nv.KhoaGiangDay == dm.id) }), new { Multiple = "multiple" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n</td>\r\n<td align=left>\r\n    <label>Ngành giảng dạy</label>\r\n    ");


            
            #line 46 "..\..\Views\nvTTThongKe\Edit.cshtml"
Write(Html.ListBox("NganhGiangDay", db.dmNganhGiangDay.ToList().Select(dm => new SelectListItem { Text = dm.maNganhGiangDay + "|" + dm.tenNganhGiangDay, Value = dm.id.ToString(), Selected = Model.NhanVien.nvNganhGiangDays.Any(nv => nv.NganhGiangDay == dm.id) }), new { Multiple = "multiple" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n</td>\r\n</tr>\r\n<tr>\r\n<td align=left>\r\n    <label>Khoa giảng dạy chính</label>\r\n " +
"   ");


            
            #line 52 "..\..\Views\nvTTThongKe\Edit.cshtml"
Write(Html.DropDownListFor(model => model.KhoaGiangDayChinh, new SelectList(db.dmKhoaGiangDay.ToList().Select(dm => new SelectListItem { Text = dm.maKhoaGiangDay + "|" + dm.tenKhoaGiangDay, Value = dm.id.ToString() }), "Value", "Text", Model.KhoaGiangDayChinh), String.Empty));

            
            #line default
            #line hidden
WriteLiteral("\r\n</td>\r\n<td align=left>\r\n    <label>Ngành giảng dạy chính</label>\r\n    ");


            
            #line 56 "..\..\Views\nvTTThongKe\Edit.cshtml"
Write(Html.DropDownListFor(model => model.NganhGiangDayChinh, new SelectList(db.dmNganhGiangDay.ToList().Select(dm => new SelectListItem { Text = dm.maNganhGiangDay + "|" + dm.tenNganhGiangDay, Value = dm.id.ToString() }), "Value", "Text", Model.NganhGiangDayChinh), String.Empty));

            
            #line default
            #line hidden
WriteLiteral("\r\n</td>\r\n</tr>\r\n<tr><td></td><td>\r\n    <input type=\"submit\" value=\"Cập nhật\" />\r\n" +
"</td></tr>\r\n<tr style=\"visibility:hidden\">\r\n<td id=\"Khoa\"></td>\r\n<td id=\"Nganh\">" +
"</td>\r\n</tr>\r\n</table>\r\n</fieldset>\r\n");


            
            #line 68 "..\..\Views\nvTTThongKe\Edit.cshtml"
}

            
            #line default
            #line hidden
WriteLiteral("<br />\r\n\r\n<style>\r\ninput { width: auto }\r\nlabel { display: inline; color: gray; f" +
"ont-size: 1.1em }\r\n</style>\r\n\r\n<link rel=\"stylesheet\" href=\"~/Content/chosen.css" +
"\">\r\n<script src=\"~/Scripts/chosen.jquery.js\" type=\"text/javascript\"></script>\r\n\r" +
"\n<script>\r\n    $(function () {\r\n        $(\"#nvTTThongKe\").find\r\n        (\"input[" +
"type=text]\").on(\"input\", function () {\r\n            $(this).attr(\"size\", $(this)" +
".val().length);\r\n        }).each(function () {\r\n            $(this).css(\"font-we" +
"ight\", \"bold\");\r\n            $(this).attr(\"size\", $(this).val().length);\r\n      " +
"  });\r\n\r\n        $(\"#PhanLoaiCBGVNV\").children().each(function() {\r\n            " +
"if ($(this).text().length > 0) {\r\n                var text = $(this).text().spli" +
"t(\"|\");\r\n                $(this).text(text[0]);\r\n                $(this).prop(\"t" +
"itle\", text[1]);\r\n            }\r\n        });\r\n        /*\r\n        $(\"#KhoaGiangD" +
"ay\").children().slice(0,10).each(function() {\r\n            $(\"#Khoa\").append($(t" +
"his).text()).append(\"<br/>\");\r\n        });\r\n        $(\"#Khoa\").append(\"Khoa\").ap" +
"pend(\"<br/>\");\r\n        $(\"#NganhGiangDay\").children().slice(0,10).each(function" +
"() {\r\n            $(\"#Nganh\").append($(this).text()).append(\"<br/>\");\r\n        }" +
");\r\n        $(\"#Nganh\").append(\"Nganh\").append(\"<br/>\");\r\n        */\r\n        $(" +
"\"#KhoaGiangDay,#NganhGiangDay,#KhoaGiangDayChinh,#NganhGiangDayChinh\")\r\n        " +
"    .children().each(function() {\r\n            if ($(this).text().length > 0) {\r" +
"\n                var text = $(this).text().split(\"|\");\r\n                $(this)." +
"text(text[0]);\r\n                $(this).prop(\"title\", text[1]);\r\n            }\r\n" +
"        });\r\n        $(\"#KhoaGiangDay,#NganhGiangDay\").chosen();\r\n        $(\"#Kh" +
"oaGiangDayChinh,#NganhGiangDayChinh\").chosen({ allow_single_deselect: true });\r\n" +
"        $(\"[id$=chosen],.default\").css(\"width\", \"auto\");\r\n    });\r\n");



WriteLiteral("\r\n</script>\r\n");


        }
    }
}
#pragma warning restore 1591

#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.18444
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace HRM.HDLaoDong.Views.BaoCao
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\BaoCao\Index.cshtml"
    using HRM.Databases.Models;
    
    #line default
    #line hidden
    
    #line 3 "..\..\Views\BaoCao\Index.cshtml"
    using HRM.Databases_HDLaoDong.Models;
    
    #line default
    #line hidden
    
    #line 2 "..\..\Views\BaoCao\Index.cshtml"
    using HRM.Webpages.Helpers;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/BaoCao/Index.cshtml")]
    public partial class Index : System.Web.Mvc.WebViewPage<IEnumerable<HRM.Databases_HDLaoDong.Models.hdNLD>>
    {
        public Index()
        {
        }
        public override void Execute()
        {




WriteLiteral("\r\n");


            
            #line 6 "..\..\Views\BaoCao\Index.cshtml"
  
    ViewBag.Title = "Index";
    var db = new HRMDB2Entities();
    var db0 = new HRM.Databases.Models.HRMDB0Entities();

    var HoVaTen = Convert.ToString(Request["HoVaTen"]);
    var DonVi = Convert.ToString(Request["DonVi"]);
    var LoaiHD = Convert.ToString(Request["LoaiHD"]);
    var ThoiHanHD = Convert.ToString(Request["ThoiHanHD"]);
    var NLDKy = Convert.ToString(Request["NLDKy"]);
    var TrinhHT = Convert.ToString(Request["TrinhHT"]);
    var HTKy = Convert.ToString(Request["HTKy"]);
    var Luu = Convert.ToString(Request["Luu"]);
    var Tra = Convert.ToString(Request["Tra"]);
    var HDLDCuoi = Convert.ToString(Request["HDLDCuoi"]);
    var HDHetHan = Convert.ToString(Request["HDHetHan"]);
    var HDSapHetHan = Convert.ToString(Request["HDSapHetHan"]);

    var NHLTuNgay = new Nullable<DateTime>();
    DateTime date;
    if (DateTime.TryParse(Request["NHLTuNgay"], out date))
    {
        NHLTuNgay = date;
    }
    var NHLDenNgay = new Nullable<DateTime>();
    DateTime date1;
    if (DateTime.TryParse(Request["NHLDenNgay"], out date1))
    {
        NHLDenNgay = date1;
    }
    var NHHLTuNgay = new Nullable<DateTime>();
    DateTime date2;
    if (DateTime.TryParse(Request["NHHLTuNgay"], out date2))
    {
        NHHLTuNgay = date2;
    }
    var NHHLDenNgay = new Nullable<DateTime>();
    DateTime date3;
    if (DateTime.TryParse(Request["NHHLDenNgay"], out date3))
    {
        NHHLDenNgay = date3;
    }
    
    var dsHoTen = new List<String>();
    foreach (var item in db.hdNLD.Where(ld => ld.hidden == false))
    {
        if (dsHoTen.Count() <= 0)
        {
            dsHoTen.Add(item.hdChiTietHDLDs.LastOrDefault().HotenNLD);
        }
        else{
            bool kt = false;
            for (int i = 0; i < dsHoTen.Count();i++)
            {
                if(item.hdChiTietHDLDs.LastOrDefault().HotenNLD == dsHoTen[i]){
                    kt = true;
                }
            }
            if(kt == false){
                dsHoTen.Add(item.hdChiTietHDLDs.LastOrDefault().HotenNLD);
            }
        }
        
    }
    var HoTen_id = new SelectList(dsHoTen,HoVaTen);

    var DonVi_id = new SelectList(db0.dmDonVi.OrderBy(tt => tt.tenDonVi), "id", "tenDonVi", DonVi);

    var dsLoaiHD = new List<String>();
    dsLoaiHD.Add("Hợp đồng cơ hữu");
    dsLoaiHD.Add("Thử việc");
    dsLoaiHD.Add("Hợp đồng dài hạn");
    var LoaiHD_id = new SelectList(dsLoaiHD,LoaiHD);

    var dsNLDKy = new List<String>();
    dsNLDKy.Add("Đã ký");
    dsNLDKy.Add("Chưa ký");
    var NLDKy_id = new SelectList(dsNLDKy,NLDKy);

    var dsTrinhHT = new List<String>();
    dsTrinhHT.Add("Đã trình");
    dsTrinhHT.Add("Chưa trình");
    var TrinhHT_id = new SelectList(dsTrinhHT,TrinhHT);

    var dsHTKy = new List<String>();
    dsHTKy.Add("Đã ký");
    dsHTKy.Add("Chưa ký");
    var HTKy_id = new SelectList(dsHTKy,HTKy);

    var dsLuu = new List<String>();
    dsLuu.Add("Đã lưu");
    dsLuu.Add("Chưa lưu");
    var Luu_id = new SelectList(dsLuu,Luu);

    var dsTra = new List<String>();
    dsTra.Add("Đã trả");
    dsTra.Add("Chưa trả");
    var Tra_id = new SelectList(dsTra,Tra);


            
            #line default
            #line hidden

            
            #line 105 "..\..\Views\BaoCao\Index.cshtml"
  
    var TemptHDCuoi = new List<hdChiTietHDLD>();
    foreach (var item in db.hdNLD.Where(ld =>ld.hidden == false))
    {
        TemptHDCuoi.Add(item.hdChiTietHDLDs.OrderByDescending(ct => ct.NgayhetHL).FirstOrDefault());
    }
    var FiltedHDCuoi = db.hdChiTietHDLD.ToList();
    if (HDLDCuoi == "on")
    {
        FiltedHDCuoi = TemptHDCuoi;
    }

    var FiltedHDQuaHanChuaXuLy = TemptHDCuoi.Where(hd => hd.hdNLD1.hidden == false);
    if(HDHetHan == "on")
    {
        FiltedHDQuaHanChuaXuLy = FiltedHDQuaHanChuaXuLy.Where(ct => ct.NgayhetHL < DateTime.Today);
    }

    var FiltedHDSapHetHan = TemptHDCuoi.Where(hd => hd.hdNLD1.hidden == false);
    if(HDSapHetHan == "on")
    {
        var hdchitiethdlds = new List<hdChiTietHDLD>();
        foreach (var item in FiltedHDSapHetHan)
        {
            if (item.NgayhetHL != null)
            {
                System.TimeSpan diffDate = (DateTime)item.NgayhetHL - DateTime.Today;
                if ((diffDate.Days <= db.hdCauHinh.FirstOrDefault().NgayHDTV && item.LoaiHD == "Thử việc") || (diffDate.Days <= db.hdCauHinh.FirstOrDefault().NgayHDCT && item.LoaiHD == "Hợp đồng dài hạn") || (diffDate.Days <= db.hdCauHinh.FirstOrDefault().NgayHDCT && item.LoaiHD == "Hợp đồng cơ hữu"))
                {
                    hdchitiethdlds.Add(item);
                }
            }
        }
        FiltedHDSapHetHan = hdchitiethdlds;
    }

    var tem = db.hdChiTietHDLD.ToList();
    var FiltedHoVaTen = tem.Where(hd => hd.hdNLD1.hidden == false);
    if (HDLDCuoi == "on") { FiltedHoVaTen = FiltedHDCuoi; }
    if (HDHetHan == "on") { FiltedHoVaTen = FiltedHDQuaHanChuaXuLy; }
    if (HDSapHetHan == "on") { FiltedHoVaTen = FiltedHDSapHetHan; }
    if(HoVaTen != "")
    {
        FiltedHoVaTen = FiltedHoVaTen.Where(ct => ct.HotenNLD == HoVaTen);
    }
    int? intDonVi = null;
    try{
        intDonVi = int.Parse(DonVi);
    }catch{
    }
    var FiltedDonVi = FiltedHoVaTen;
    if (intDonVi != null)
    {
        FiltedDonVi = FiltedHoVaTen.Where(ct => ct.Donvi_id == intDonVi);
    }
    var FiltedLoaiHD = FiltedDonVi;
    if(LoaiHD!=""){
        FiltedLoaiHD = FiltedDonVi.Where(ct => ct.LoaiHD == LoaiHD);
    }
    var FiltedThoiHanHD = FiltedLoaiHD;
    var FiltedNHL = FiltedThoiHanHD;
    if(NHLTuNgay !=null){
        FiltedNHL = FiltedThoiHanHD.Where(ct => ct.NgayHL >= NHLTuNgay && ct.NgayHL <= NHLDenNgay);
    }
    var FiltedNHHL = FiltedNHL;
    if(NHHLTuNgay!=null){
        FiltedNHHL = FiltedNHL.Where(ct => ct.NgayhetHL >= NHHLTuNgay && ct.NgayhetHL <= NHHLDenNgay); 
    }
    var FiltedNLDKy = FiltedNHHL;
    if(NLDKy == "Đã ký"){
        FiltedNLDKy = FiltedNHHL.Where(ct => ct.QT_NgayNLDky != null || (ct.QT_NLDky != null && ct.QT_NLDky != ""));
    }else if(NLDKy == "Chưa ký"){
        FiltedNLDKy = FiltedNHHL.Where(ct => ct.QT_NgayNLDky == null && (ct.QT_NLDky == null || ct.QT_NLDky == ""));
    }
    var FiltedTrinhHT = FiltedNLDKy;
    if (TrinhHT == "Đã trình")
    {
        FiltedTrinhHT = FiltedNLDKy.Where(ct => ct.QT_NgayTrinhHT != null || (ct.QT_TrinhHT != null && ct.QT_TrinhHT != ""));
    }
    else if (NLDKy == "Chưa trình")
    {
        FiltedTrinhHT = FiltedNLDKy.Where(ct => ct.QT_NgayTrinhHT == null && (ct.QT_TrinhHT == null || ct.QT_TrinhHT == ""));
    }
    var FiltedHTKy = FiltedTrinhHT;
    if (HTKy == "Đã ký")
    {
        FiltedHTKy = FiltedTrinhHT.Where(ct => ct.QT_NgayHTky != null || (ct.QT_HTky != null && ct.QT_HTky != ""));
    }
    else if (HTKy == "Chưa ký")
    {
        FiltedHTKy = FiltedTrinhHT.Where(ct => ct.QT_NgayHTky == null && (ct.QT_HTky == null && ct.QT_HTky == ""));
    }
    var FiltedLuu = FiltedHTKy;
    if (Luu == "Đã lưu")
    {
        FiltedLuu = FiltedHTKy.Where(ct => ct.QT_NgayLuuHS != null || (ct.QT_LuuHS != null && ct.QT_LuuHS != ""));
    }
    else if (Luu == "Chưa lưu")
    {
        FiltedLuu = FiltedHTKy.Where(ct => ct.QT_NgayLuuHS == null && (ct.QT_LuuHS == null || ct.QT_LuuHS == ""));
    }
    var FiltedTra = FiltedLuu;
    if (Tra == "Đã trả")
    {
        FiltedTra = FiltedLuu.Where(ct => ct.QT_NgayTraNLD != null || (ct.QT_TraNLD != null && ct.QT_TraNLD != ""));
    }
    else if (Tra == "Chưa trả")
    {
        FiltedTra = FiltedLuu.Where(ct => ct.QT_NgayTraNLD == null && (ct.QT_TraNLD == null || ct.QT_TraNLD == ""));
    }
    var cts = FiltedTra;


            
            #line default
            #line hidden
WriteLiteral("\r\n<div id=\"BaoCao\" style=\"padding: 0; width:1000px;margin-left:-13%;font-size:med" +
"ium\">\r\n<p><b style=\"margin-left: 45%; font-size: large\">Báo cáo</b></p>\r\n");


            
            #line 220 "..\..\Views\BaoCao\Index.cshtml"
Write(Html.ActionLink("Quay lại", "Index", "HDNguoiLaoDong"));

            
            #line default
            #line hidden
WriteLiteral("\r\n    <h3 style=\"margin: 0\">\r\n        <b style=\"font-size:medium\">Điều kiện lọc b" +
"áo cáo</b></h3>\r\n    <div style=\"padding: 0\">\r\n");


            
            #line 224 "..\..\Views\BaoCao\Index.cshtml"
         using (Html.BeginForm("Index", "BaoCao", new { id = "Filter", }))
        {

            
            #line default
            #line hidden
WriteLiteral("        <p>\r\n        Họ và tên<span style=\"margin-left:20px\"></span>\r\n        ");


            
            #line 228 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("HoVaTen", HoTen_id,String.Empty, new { id = "HoVaTen", name = "HoVaTen"}));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        Đơn vị<span style=\"margin-left:40px\"></span>\r\n        ");


            
            #line 232 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("DonVi", DonVi_id,String.Empty, new { id = "DonVi", name = "DonVi"}));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        Loại HĐ<span style=\"margin-left:32px\"></span>\r\n        ");


            
            #line 236 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("LoaiHD", LoaiHD_id,String.Empty, new { id = "LoaiHD", name = "LoaiHD"}));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        Thời hạn HĐ\r\n        <select id=\"ThoiHanHD\">\r\n            <o" +
"ption></option>\r\n            <option>30 ngày</option>\r\n        </select>\r\n      " +
"  </p>\r\n");



WriteLiteral("        <p>\r\n        Ngày hiệu lực\r\n        <span style=\"margin-left:36px\"></span" +
">Từ ngày\r\n");


            
            #line 248 "..\..\Views\BaoCao\Index.cshtml"
          var NHLTu = "";
          var NHLDen = "";
          try{
              NHLTu = NHLTuNgay.Value.ToShortDateString();
          }catch{}
          try
          {
              NHLDen = NHLDenNgay.Value.ToShortDateString();
          }
          catch { }
            

            
            #line default
            #line hidden
WriteLiteral("        <input id=\"NHLTuNgay\" name = \"NHLTuNgay\" value = \"");


            
            #line 259 "..\..\Views\BaoCao\Index.cshtml"
                                                     Write(NHLTu);

            
            #line default
            #line hidden
WriteLiteral("\" type=\"text\" />\r\n        <span style=\"margin-left:10px\"></span>Đến ngày\r\n       " +
" <input id=\"NHLDenNgay\" name = \"NHLDenNgay\" value = \"");


            
            #line 261 "..\..\Views\BaoCao\Index.cshtml"
                                                       Write(NHLDen);

            
            #line default
            #line hidden
WriteLiteral("\" type=\"text\" />\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        Ngày hết hiệu lực\r\n        <span style=\"margin-left:10px\"></" +
"span>Từ ngày\r\n");


            
            #line 266 "..\..\Views\BaoCao\Index.cshtml"
          var NHHLTu = "";
          var NHHLDen = "";
          try{
              NHHLTu = NHHLTuNgay.Value.ToShortDateString();
          }catch{}
          try
          {
              NHHLDen = NHHLDenNgay.Value.ToShortDateString();
          }
          catch { }
            

            
            #line default
            #line hidden
WriteLiteral("        <input id=\"NHHLTuNgay\" name = \"NHHLTuNgay\" value = \"");


            
            #line 277 "..\..\Views\BaoCao\Index.cshtml"
                                                       Write(NHHLTu);

            
            #line default
            #line hidden
WriteLiteral("\" type=\"text\" />\r\n        <span style=\"margin-left:10px\"></span>Đến ngày\r\n       " +
" <input id=\"NHHLDenNgay\" name = \"NHHLDenNgay\" value = \"");


            
            #line 279 "..\..\Views\BaoCao\Index.cshtml"
                                                         Write(NHHLDen);

            
            #line default
            #line hidden
WriteLiteral("\" type=\"text\" />\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        NLĐ ký<span style=\"margin-left:35px\"></span>\r\n        ");


            
            #line 283 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("NLDKy", NLDKy_id,String.Empty, new { id = "NLDKy",name = "NLDKy"}));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        Trình HT<span style=\"margin-left:27px\"></span>\r\n        ");


            
            #line 287 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("TrinhHT", TrinhHT_id, String.Empty, new { id = "TrinhHT", name = "TrinhHT" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        HT ký<span style=\"margin-left:47px\"></span>\r\n        ");


            
            #line 291 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("HTKy", HTKy_id, String.Empty, new { id = "HTKy", name = "HTKy" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        Lưu<span style=\"margin-left:60px\"></span>\r\n        ");


            
            #line 295 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("Luu", Luu_id, String.Empty, new { id = "Luu", name = "Luu" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n        Trả<span style=\"margin-left:64px\"></span>\r\n        ");


            
            #line 299 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DropDownList("Tra", Tra_id, String.Empty, new { id = "Tra", name = "Tra" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n");


            
            #line 302 "..\..\Views\BaoCao\Index.cshtml"
         if(HDLDCuoi == null){ 

            
            #line default
            #line hidden
WriteLiteral("        <input id=\"HDLDCuoi\" name = \"HDLDCuoi\" type=\"checkbox\" />\r\n");


            
            #line 304 "..\..\Views\BaoCao\Index.cshtml"
        }else{

            
            #line default
            #line hidden
WriteLiteral("            <input id=\"HDLDCuoi\" name = \"HDLDCuoi\" checked = \"true\" type=\"checkbo" +
"x\" />\r\n");


            
            #line 306 "..\..\Views\BaoCao\Index.cshtml"
        }
            
            #line default
            #line hidden
WriteLiteral("HĐLĐ cuối\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n");


            
            #line 309 "..\..\Views\BaoCao\Index.cshtml"
         if (HDHetHan == null)
        { 

            
            #line default
            #line hidden
WriteLiteral("        <input id=\"HDHetHan\" name = \"HDHetHan\" type=\"checkbox\" />\r\n");


            
            #line 312 "..\..\Views\BaoCao\Index.cshtml"
        }
        else{

            
            #line default
            #line hidden
WriteLiteral("            <input id=\"HDHetHan\" checked = \"true\" name = \"HDHetHan\" type=\"checkbo" +
"x\" />\r\n");


            
            #line 315 "..\..\Views\BaoCao\Index.cshtml"
        }
            
            #line default
            #line hidden
WriteLiteral("HĐ quá hạn chưa xử lý\r\n        </p>\r\n");



WriteLiteral("        <p>\r\n");


            
            #line 318 "..\..\Views\BaoCao\Index.cshtml"
         if (HDSapHetHan == null)
        { 

            
            #line default
            #line hidden
WriteLiteral("        <input id=\"HDSapHetHan\" name = \"HDSapHetHan\" type=\"checkbox\" />\r\n");


            
            #line 321 "..\..\Views\BaoCao\Index.cshtml"
        }
        else{

            
            #line default
            #line hidden
WriteLiteral("            <input id=\"HDSapHetHan\" checked = \"true\" name = \"HDSapHetHan\" type=\"c" +
"heckbox\" />\r\n");


            
            #line 324 "..\..\Views\BaoCao\Index.cshtml"
        }
            
            #line default
            #line hidden
WriteLiteral("HĐ sắp hết hạn\r\n        </p>\r\n");



WriteLiteral("            <input id=\"Submit1\" type=\"submit\" value=\"Lọc\" style = \"width:100px\" /" +
">\r\n");


            
            #line 327 "..\..\Views\BaoCao\Index.cshtml"
            if (cts.Count() <= 0)
            {

            
            #line default
            #line hidden
WriteLiteral("              <input id=\"btnCauHinh\" type=\"button\" disabled = \"true\" value=\"Xuất " +
"excel\" />\r\n");


            
            #line 330 "..\..\Views\BaoCao\Index.cshtml"
            }
            else
            {
                var listXuatExcel = new List<hdChiTietHDLD>();
                foreach (var item in cts)
                {
                    listXuatExcel.Add(item);
                }
                TempData["listXuatExcel"] = listXuatExcel;

            
            #line default
            #line hidden
WriteLiteral("                <a href=\"");


            
            #line 339 "..\..\Views\BaoCao\Index.cshtml"
                    Write(Url.Action("Index", "XuatExcel"));

            
            #line default
            #line hidden
WriteLiteral("\">\r\n                    <input id=\"btnCauHinh\" type=\"button\" value=\"Xuất excel\" /" +
"></a>\r\n");


            
            #line 341 "..\..\Views\BaoCao\Index.cshtml"
            }
        }

            
            #line default
            #line hidden
WriteLiteral("    </div>\r\n\r\n</div>\r\n\r\n<div style=\"padding: 0; width:1000px;margin-left:-13%\">\r\n" +
"<table id =\"BaoCaoView\">\r\n<thead>\r\n    <tr>\r\n        <th style=\"text-align:cente" +
"r\" >\r\n            STT\r\n        </th>\r\n        <th style=\"text-align:center\">\r\n  " +
"          Họ và tên\r\n        </th>\r\n        <th style=\"text-align:center\" >\r\n   " +
"         Đơn<br />vị\r\n        </th>\r\n        <th style=\"text-align:center\" >\r\n  " +
"          Chức danh CM\r\n        </th>\r\n        <th style=\"text-align:center\" >\r\n" +
"            Số HĐ\r\n        </th>\r\n        <th style=\"text-align:center\" >\r\n     " +
"       Loại HĐ\r\n        </th>\r\n        <th style=\"text-align:center\" >\r\n        " +
"    Thời hạn HĐ\r\n        </th>\r\n        <th style=\"text-align:center\" >\r\n       " +
"     Ngày hiệu<br />lực\r\n        </th>\r\n        <th style=\"text-align:center\" >\r" +
"\n            Ngày hết<br />hiệu lực\r\n        </th>\r\n        <th style=\"text-alig" +
"n:center\" >\r\n            Ngày NLĐ ký\r\n        </th>\r\n        <th style=\"text-ali" +
"gn:center\" >\r\n            Ngày trình HT\r\n        </th>\r\n        <th style=\"text-" +
"align:center\" >\r\n            Ngày HT ký\r\n        </th>\r\n        <th style=\"text-" +
"align:center\" >\r\n            Ngày lưu\r\n        </th>\r\n        <th style=\"text-al" +
"ign:center\" >\r\n            Ngày trả\r\n        </th>\r\n        <th style=\"text-alig" +
"n:center\" >\r\n            Lương cơ bản\r\n        </th>\r\n        <th style=\"text-al" +
"ign:center\" >\r\n            Hệ số lương\r\n        </th>\r\n        <th style=\"text-a" +
"lign:center\" >\r\n            Bậc \r\n        </th>\r\n        <th style=\"text-align:c" +
"enter\" >\r\n            Ngạch\r\n        </th>\r\n        <th style=\"text-align:center" +
"\" >\r\n            Nhóm\r\n        </th>\r\n        <th style=\"text-align:center\" >\r\n " +
"           Bảng lương\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n");


            
            #line 414 "..\..\Views\BaoCao\Index.cshtml"
  int count = 0;

            
            #line default
            #line hidden

            
            #line 415 "..\..\Views\BaoCao\Index.cshtml"
 foreach (var item in cts)
{
    count = count + 1;

            
            #line default
            #line hidden
WriteLiteral("    <tr>\r\n    <td style=\"text-align:center\">\r\n    ");


            
            #line 420 "..\..\Views\BaoCao\Index.cshtml"
Write(count);

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\"  >\r\n    ");


            
            #line 423 "..\..\Views\BaoCao\Index.cshtml"
Write(Html.DisplayFor(model => item.HotenNLD));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n");


            
            #line 425 "..\..\Views\BaoCao\Index.cshtml"
        string tenDonVi = "";
        if (item.Donvi_id != null)
        {
            int? Donvi_id = item.Donvi_id;
            tenDonVi = db0.dmDonVi.Where(dv => dv.id == Donvi_id).First().tenDonVi;
        }
    

            
            #line default
            #line hidden
WriteLiteral("    <td style=\"text-align: center\" data-tip=\"");


            
            #line 432 "..\..\Views\BaoCao\Index.cshtml"
                                        Write(tenDonVi);

            
            #line default
            #line hidden
WriteLiteral("\">\r\n");


            
            #line 433 "..\..\Views\BaoCao\Index.cshtml"
        string maDonVi = "";
        if (item.Donvi_id != null)
        {
            int? Donvi_id = item.Donvi_id;
            maDonVi = db0.dmDonVi.Where(dv => dv.id == Donvi_id).First().maDonVi;
        }
        
            
            #line default
            #line hidden
            
            #line 439 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DisplayFor(model => maDonVi));

            
            #line default
            #line hidden
            
            #line 439 "..\..\Views\BaoCao\Index.cshtml"
                                          
    

            
            #line default
            #line hidden
WriteLiteral("    </td>\r\n    <td style=\"text-align:center\"  >\r\n");


            
            #line 443 "..\..\Views\BaoCao\Index.cshtml"
        string tenChucDanh = "";
        if (item.Chucdanh_id != null)
        {
            int? ChucDanh_id = item.Chucdanh_id;
            tenChucDanh = db0.dmChucDanhChuyenMon.Where(dv => dv.id == ChucDanh_id).First().tenChucDanhChuyenMon;
        }
        
            
            #line default
            #line hidden
            
            #line 449 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.Raw(tenChucDanh));

            
            #line default
            #line hidden
            
            #line 449 "..\..\Views\BaoCao\Index.cshtml"
                              
    

            
            #line default
            #line hidden
WriteLiteral("    </td>\r\n    <td style=\"text-align:center\"  >\r\n        ");


            
            #line 453 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DisplayFor(model => item.SoHD));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\"  >\r\n        ");


            
            #line 456 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DisplayFor(model => item.LoaiHD));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\"  >\r\n");


            
            #line 459 "..\..\Views\BaoCao\Index.cshtml"
          int THHD_id = item.ThoihanHD_id;
          var tenThoiHan = db.dmThoiHanHD.Where(th => th.id == THHD_id).FirstOrDefault().tenThoiHanHD;

            
            #line default
            #line hidden
WriteLiteral("        ");


            
            #line 461 "..\..\Views\BaoCao\Index.cshtml"
   Write(Html.DisplayFor(model => tenThoiHan));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\">\r\n        ");


            
            #line 464 "..\..\Views\BaoCao\Index.cshtml"
   Write(item.NgayHL.ToShortDateString());

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\">\r\n");


            
            #line 467 "..\..\Views\BaoCao\Index.cshtml"
     try
    {
        
            
            #line default
            #line hidden
            
            #line 469 "..\..\Views\BaoCao\Index.cshtml"
   Write(item.NgayhetHL.Value.ToShortDateString());

            
            #line default
            #line hidden
            
            #line 469 "..\..\Views\BaoCao\Index.cshtml"
                                                 
    }
    catch
    {
            
            #line default
            #line hidden
            
            #line 472 "..\..\Views\BaoCao\Index.cshtml"
Write(item.NgayhetHL);

            
            #line default
            #line hidden
            
            #line 472 "..\..\Views\BaoCao\Index.cshtml"
                     }

            
            #line default
            #line hidden
WriteLiteral("    </td>\r\n    <td style=\"text-align:center\">\r\n");


            
            #line 475 "..\..\Views\BaoCao\Index.cshtml"
         if (item.QT_NgayNLDky == null)
        {
            
            
            #line default
            #line hidden
            
            #line 477 "..\..\Views\BaoCao\Index.cshtml"
       Write(item.QT_NLDky);

            
            #line default
            #line hidden
            
            #line 477 "..\..\Views\BaoCao\Index.cshtml"
                          
        }
        else
        {
            try
            {
            
            #line default
            #line hidden
            
            #line 482 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayNLDky.Value.ToShortDateString());

            
            #line default
            #line hidden
            
            #line 482 "..\..\Views\BaoCao\Index.cshtml"
                                                         }
            catch
            {
            
            #line default
            #line hidden
            
            #line 484 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayNLDky);

            
            #line default
            #line hidden
            
            #line 484 "..\..\Views\BaoCao\Index.cshtml"
                                }

        }

            
            #line default
            #line hidden
WriteLiteral("    </td>\r\n    <td style=\"text-align:center\">\r\n");


            
            #line 489 "..\..\Views\BaoCao\Index.cshtml"
         if (item.QT_NgayTrinhHT == null)
        {
            
            
            #line default
            #line hidden
            
            #line 491 "..\..\Views\BaoCao\Index.cshtml"
       Write(item.QT_TrinhHT);

            
            #line default
            #line hidden
            
            #line 491 "..\..\Views\BaoCao\Index.cshtml"
                            
        }
        else
        {
            try
            {
            
            #line default
            #line hidden
            
            #line 496 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayTrinhHT.Value.ToShortDateString());

            
            #line default
            #line hidden
            
            #line 496 "..\..\Views\BaoCao\Index.cshtml"
                                                           }
            catch
            { 
            
            #line default
            #line hidden
            
            #line 498 "..\..\Views\BaoCao\Index.cshtml"
         Write(item.QT_NgayTrinhHT);

            
            #line default
            #line hidden
            
            #line 498 "..\..\Views\BaoCao\Index.cshtml"
                                  }

        }

            
            #line default
            #line hidden
WriteLiteral("    </td>\r\n    <td style=\"text-align:center\">\r\n");


            
            #line 503 "..\..\Views\BaoCao\Index.cshtml"
         if (item.QT_NgayHTky == null)
        {
            
            
            #line default
            #line hidden
            
            #line 505 "..\..\Views\BaoCao\Index.cshtml"
       Write(item.QT_HTky);

            
            #line default
            #line hidden
            
            #line 505 "..\..\Views\BaoCao\Index.cshtml"
                         
        }
        else
        {
            try
            {
            
            #line default
            #line hidden
            
            #line 510 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayHTky.Value.ToShortDateString());

            
            #line default
            #line hidden
            
            #line 510 "..\..\Views\BaoCao\Index.cshtml"
                                                         }
            catch
            {
            
            #line default
            #line hidden
            
            #line 512 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayHTky);

            
            #line default
            #line hidden
            
            #line 512 "..\..\Views\BaoCao\Index.cshtml"
                               }

        }

            
            #line default
            #line hidden
WriteLiteral("        \r\n    </td>\r\n    <td style=\"text-align:center\">\r\n");


            
            #line 518 "..\..\Views\BaoCao\Index.cshtml"
         if (item.QT_NgayLuuHS == null)
        {
            
            
            #line default
            #line hidden
            
            #line 520 "..\..\Views\BaoCao\Index.cshtml"
       Write(item.QT_LuuHS);

            
            #line default
            #line hidden
            
            #line 520 "..\..\Views\BaoCao\Index.cshtml"
                          
        }
        else
        {
            try
            {
            
            #line default
            #line hidden
            
            #line 525 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayLuuHS.Value.ToShortDateString());

            
            #line default
            #line hidden
            
            #line 525 "..\..\Views\BaoCao\Index.cshtml"
                                                          }
            catch
            {
            
            #line default
            #line hidden
            
            #line 527 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayLuuHS);

            
            #line default
            #line hidden
            
            #line 527 "..\..\Views\BaoCao\Index.cshtml"
                                }

        }

            
            #line default
            #line hidden
WriteLiteral("    </td>\r\n    <td style=\"text-align:center\">  \r\n");


            
            #line 532 "..\..\Views\BaoCao\Index.cshtml"
         if (item.QT_NgayTraNLD == null)
        {
            
            
            #line default
            #line hidden
            
            #line 534 "..\..\Views\BaoCao\Index.cshtml"
       Write(item.QT_TraNLD);

            
            #line default
            #line hidden
            
            #line 534 "..\..\Views\BaoCao\Index.cshtml"
                           
        }
        else
        {
            try
            {
            
            #line default
            #line hidden
            
            #line 539 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayTraNLD.Value.ToShortDateString());

            
            #line default
            #line hidden
            
            #line 539 "..\..\Views\BaoCao\Index.cshtml"
                                                           }
            catch
            {
            
            #line default
            #line hidden
            
            #line 541 "..\..\Views\BaoCao\Index.cshtml"
        Write(item.QT_NgayTraNLD);

            
            #line default
            #line hidden
            
            #line 541 "..\..\Views\BaoCao\Index.cshtml"
                                 }

        }

            
            #line default
            #line hidden
WriteLiteral("    </td>\r\n    <td style=\"text-align:center\">\r\n        ");


            
            #line 546 "..\..\Views\BaoCao\Index.cshtml"
   Write(item.Mucluongchinh);

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n");


            
            #line 548 "..\..\Views\BaoCao\Index.cshtml"
      
        double? HeSo = null;
        var Bac = "";
        var Ngach = "";
        var Nhom = "";


        int? nHSLuong_id = item.HSLuong_id;
        int? nNgach_id = item.Ngach_id;
        int? nNhom_id = item.Nhom_id;
        try
        {
            HeSo = db0.dmBangLuong.Where(bl => bl.id == nHSLuong_id).FirstOrDefault().hesoLuong;
        }
        catch
        {
        }
        try
        {
            Bac = db0.dmBangLuong.Where(bl => bl.id == nHSLuong_id).FirstOrDefault().bacLuong;
        }
        catch
        {
        }
        try
        {
            Ngach = db0.dmNgachVienChuc.Where(bl => bl.id == nNgach_id).FirstOrDefault().tenNgachVienChuc;
        }
        catch
        {
        }
        try
        {
            Nhom = db0.dmNhomNgachVienChuc.Where(bl => bl.id == nNhom_id).FirstOrDefault().tenNhomNgachVienChuc;
        }
        catch
        {
        }


            
            #line default
            #line hidden
WriteLiteral("    <td style=\"text-align:center\">\r\n    ");


            
            #line 588 "..\..\Views\BaoCao\Index.cshtml"
Write(Html.Raw(HeSo));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\">\r\n    ");


            
            #line 591 "..\..\Views\BaoCao\Index.cshtml"
Write(Html.Raw(Bac));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\">\r\n    ");


            
            #line 594 "..\..\Views\BaoCao\Index.cshtml"
Write(Html.Raw(Ngach));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\">\r\n    ");


            
            #line 597 "..\..\Views\BaoCao\Index.cshtml"
Write(Html.Raw(Ngach));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    <td style=\"text-align:center\">\r\n    ");


            
            #line 600 "..\..\Views\BaoCao\Index.cshtml"
Write(item.Bangluong_id);

            
            #line default
            #line hidden
WriteLiteral("\r\n    </td>\r\n    </tr>\r\n");


            
            #line 603 "..\..\Views\BaoCao\Index.cshtml"
}

            
            #line default
            #line hidden

            
            #line 604 "..\..\Views\BaoCao\Index.cshtml"
 if (cts.Count() == 0)
{

            
            #line default
            #line hidden
WriteLiteral(@"<tr>
        <td colspan = 20 style = ""text-align:center"">Không có dữ liệu!</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
</tr>
");


            
            #line 628 "..\..\Views\BaoCao\Index.cshtml"
}

            
            #line default
            #line hidden
WriteLiteral("</tbody>\r\n</table>\r\n</div>\r\n<style>\r\n    table\r\n    {\r\n        overflow: auto;\r\n " +
"       width: 100%;\r\n        display: block;\r\n    }\r\n    input\r\n    {\r\n        m" +
"argin: 0 0 0 0;\r\n    }\r\n    td\r\n    {\r\n        padding: 0;\r\n    }\r\n    .ui-state" +
"-hover\r\n    {\r\n        font-weight: normal !important;\r\n    }\r\n</style>\r\n<style>" +
"\r\n    td\r\n    {\r\n        padding: 0 0 0 0;\r\n    }\r\n    input\r\n    {\r\n        mar" +
"gin: 0 0 0 0;\r\n        width: auto;\r\n    }\r\n</style>\r\n<script>\r\n    $().ready(fu" +
"nction () {\r\n        var table$ = $(\"#BaoCaoView\");\r\n        table$.find(\"th\").e" +
"ach(function () {\r\n            $(this).addClass(\"ui-state-default\");\r\n        })" +
";\r\n        table$.find(\"td\").each(function () {\r\n            $(this).addClass(\"u" +
"i-widget-content\");\r\n        });\r\n    });\r\n</script>\r\n\r\n<style>\r\n    .ui-tabs .u" +
"i-tabs-nav li a\r\n    {\r\n        padding: .5em .5em;\r\n    }\r\n</style>\r\n\r\n<script>" +
"\r\n    $(function () {\r\n        $(\"#BaoCao\").accordion({\r\n            header: \"h3" +
":not(.ignore)\",\r\n            collapsible: true,\r\n            heightStyle: \"conte" +
"nt\"\r\n        });\r\n    });\r\n</script>\r\n\r\n\r\n\r\n<script>\r\n    $(\"#HoVaTen\").combobox" +
"().parent().find(\"input.ui-autocomplete-input\").css(\"width\", \"250px\");\r\n    $(\"#" +
"DonVi\").combobox().parent().find(\"input.ui-autocomplete-input\").css(\"width\", \"25" +
"0px\");\r\n    $(\"#LoaiHD\").combobox().parent().find(\"input.ui-autocomplete-input\")" +
".css(\"width\", \"250px\");\r\n    $(\"#ThoiHanHD\").combobox().parent().find(\"input.ui-" +
"autocomplete-input\").css(\"width\", \"250px\");\r\n    $(\"#NLDKy\").combobox().parent()" +
".find(\"input.ui-autocomplete-input\").css(\"width\", \"250px\");\r\n    $(\"#TrinhHT\").c" +
"ombobox().parent().find(\"input.ui-autocomplete-input\").css(\"width\", \"250px\");\r\n " +
"   $(\"#HTKy\").combobox().parent().find(\"input.ui-autocomplete-input\").css(\"width" +
"\", \"250px\");\r\n    $(\"#Luu\").combobox().parent().find(\"input.ui-autocomplete-inpu" +
"t\").css(\"width\", \"250px\");\r\n    $(\"#Tra\").combobox().parent().find(\"input.ui-aut" +
"ocomplete-input\").css(\"width\", \"250px\");\r\n\r\n    $(\".custom-combobox-input\").remo" +
"veClass(\"ui-state-default\");\r\n    $(\".custom-combobox-input\").removeClass(\"ui-wi" +
"dget-content\");\r\n    $(\".custom-combobox-width\").removeClass(\"ui-width-default\")" +
";\r\n    $(\".custom-combobox-input\").removeClass(\"ui-corner-left\");\r\n    $(\".custo" +
"m-combobox-toggle\").removeClass(\"ui-state-default\");\r\n    $(function () {\r\n     " +
"   $(\"[id=NHLTuNgay]\").datepicker({\r\n            changeMonth: true,\r\n           " +
" changeYear: true,\r\n            dateFormat: \"dd/mm/yy\",\r\n            yearRange: " +
"\'c-100:c+100\'\r\n        });\r\n        $(\"[id=NHLDenNgay]\").datepicker({\r\n         " +
"   changeMonth: true,\r\n            changeYear: true,\r\n            dateFormat: \"d" +
"d/mm/yy\",\r\n            yearRange: \'c-100:c+100\'\r\n        });\r\n        $(\"[id=NHH" +
"LTuNgay]\").datepicker({\r\n            changeMonth: true,\r\n            changeYear:" +
" true,\r\n            dateFormat: \"dd/mm/yy\",\r\n            yearRange: \'c-100:c+100" +
"\'\r\n        });\r\n        $(\"[id=NHHLDenNgay]\").datepicker({\r\n            changeMo" +
"nth: true,\r\n            changeYear: true,\r\n            dateFormat: \"dd/mm/yy\",\r\n" +
"            yearRange: \'c-100:c+100\'\r\n        });\r\n    });\r\n\r\n    $(\"#Filter\").f" +
"ind(\"input[type=datetime]\").css(\"width\", \"80px\")\r\n            .datepicker({ chan" +
"geMonth: true, changeYear: true });\r\n</script>\r\n\r\n");


        }
    }
}
#pragma warning restore 1591
